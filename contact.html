<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- EmailJS SDK -->
    <script src="./js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
      // Initialize EmailJS with your Public Key
      emailjs.init("aZkW5nN6V4rO5qnYT"); // <-- Replace with your EmailJS public key
    </script>
    <style>
      /* Loader styles */
      #loader {
        position: fixed;
        width: 100%;
        height: 100%;
        background: white;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 50;
        transition: opacity 0.3s ease;
      }
      .loader-circle {
        width: 60px;
        height: 60px;
        border: 8px solid #3b82f6;
        border-top-color: transparent;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body class="bg-gray-50 flex flex-col min-h-screen">
    <!-- Loader -->
    <div id="loader">
      <div class="loader-circle"></div>
    </div>
    <!-- Header -->
    <div id="header"></div>

    <!-- Contact Section -->
    <section class="flex-grow flex items-center justify-center">
      <div class="bg-white shadow-md rounded-lg p-8 w-full max-w-md">
        <h2 class="text-2xl font-semibold mb-6 text-center">Contact Us</h2>

        <form id="contactForm" class="space-y-4">
          <input
            type="text"
            name="user_name"
            placeholder="Your Name"
            required
            class="w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-400"
          />

          <input
            type="email"
            name="user_email"
            placeholder="Your Email"
            required
            class="w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-400"
          />

          <textarea
            name="message"
            placeholder="Message"
            rows="5"
            required
            class="w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-400"
          ></textarea>

          <button
            type="submit"
            class="w-full bg-blue-600 text-white font-semibold py-3 rounded-md hover:bg-blue-700 transition-colors"
          >
            Send Message
          </button>
        </form>

        <!-- Status Message -->
        <p
          id="status"
          class="mt-4 text-center text-green-600 font-medium hidden"
        >
          Message sent successfully!
        </p>
      </div>
    </section>

    <!-- Footer -->
    <div id="footer"></div>

    <script>
      // Hide loader on page load
      window.addEventListener("load", () => {
        const loader = document.getElementById("loader");
        loader.style.opacity = 0;
        setTimeout(() => (loader.style.display = "none"), 300);
      });

      const form = document.getElementById("contactForm");
      const statusText = document.getElementById("status");

      form.addEventListener("submit", function (e) {
        e.preventDefault(); // prevent page reload

        statusText.textContent = "Sending message...";
        statusText.classList.remove("hidden", "text-red-600");
        statusText.classList.add("text-blue-600");

        // Send email using EmailJS
        emailjs.sendForm("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", this).then(
          () => {
            statusText.textContent = "Message sent successfully!";
            statusText.classList.remove("text-blue-600");
            statusText.classList.add("text-green-600");
            form.reset();
          },
          (error) => {
            console.error(error);
            statusText.textContent = "Oops! Something went wrong.";
            statusText.classList.remove("text-blue-600");
            statusText.classList.add("text-red-600");
          },
        );
      });
    </script>
  </body>
</html>
